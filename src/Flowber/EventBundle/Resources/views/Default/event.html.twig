{# empty Twig template #}
{% extends '::base_frontoffice.html.twig' %}

{% block stylesheets %}
    {{parent()}}
    <link rel="stylesheet" href="{{ asset('assets/css/EventBundle/event.css') }}"/>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 250px;
        margin:22px;
      }
     </style>
{% endblock %}

{% block smallMenu %}
    {{parent()}}
    <!-- BEGIN small screen menu -->
    {% include 'FlowberEventBundle::partials/event-navbar-small.html.twig' %}
    <!-- END small screen menu -->
{% endblock %}

{% block body %}
    
    <!-- navbar top -->
    {% include 'FlowberFrontOfficeBundle::partials/common/main-connected-navbar.html.twig' %}

    <!-- Event Banner -->  
    {% include 'FlowberEventBundle::partials/eventCover.html.twig' %}
 
    <!-- Second navbar -->
    {% include 'FlowberEventBundle::partials/event-navbar.html.twig' %}

    <!-- Top alerts -->
    {% include 'FlowberEventBundle::partials/eventAlerts.html.twig' %}    
    
    <!-- page -->
    {% include 'FlowberEventBundle::partials/eventContent.html.twig' %}
   
    <!-- footer -->                  
    {% include 'WybeFrontOfficeBundle::partials/common/footer.html.twig' %}
  {{event.address}} 
{% endblock %}

{% block javascripts %}
    {{parent()}}
    
    <script type="text/javascript" >
        {% if event.address is not null and event.coordinates is not null %}      
            var pLocation  = "{{event.coordinates | replace({'(': '', ')': ''})}}";
            var pLocationDescription  = ';<strong>{{event.title}}</strong><br/>'+
            {% if (event.address is not null) and (event.name is not null) %}
                '{{event.name}},<br/>'+ 
            {% endif %}
            '{{ event.startDate|date("\\l\\e d/m/Y", "Europe/Paris") }} {{ event.startTime|date("\\Ã  H:i", "Europe/Paris") }}';
        {% endif %}
    </script>
    
    <script type="text/javascript" src="{{ asset('assets/js/FrontOfficeBundle/maps/gmaps.js') }}"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDu4slAxOS7yprod9nmIS1AZm3LC9gk_2Q&signed_in=true&libraries=places&callback=showMap"
    async defer></script>
    
    <script type="text/javascript">
        $('#eventNavbar a').click(function (e) {
            e.preventDefault()
            $(this).tab('show')
        })

        $("#newPostTextArea, #newMailToHost").keyup(function(e) {
            while($(this).outerHeight() < this.scrollHeight + parseFloat($(this).css("borderTopWidth")) + parseFloat($(this).css("borderBottomWidth"))) {
                $(this).height($(this).height()+1);
            };
        });
    </script>
    
    

{% endblock %}