{# empty Twig template #}
{% extends '::base_frontoffice.html.twig' %}

{% block stylesheets %}
    {{parent()}}
    <link rel="stylesheet" href="{{ asset('bundles/wybefrontoffice/css/messages.css') }}"/>
{% endblock %}

{% block body %}

    <!-- navbar top -->
    {% include 'FlowberFrontOfficeBundle::partials/common/main-connected-navbar.html.twig' %}

    <div class="messages-container">
        <div class="container">
            <div class="row"> <!--
                <div class="col-md-3 messages-menu">
                    <div class="list-group messages-menu-list">
                        <a href="" class="list-group-item active"><span class="badge"></span>Notifications non lues </a>
                        <a href="" class="list-group-item ">Voir toutes les notifications</a>
                    </div>
                </div>  -->  
                <div class="col-md-2">
                </div>
                <div class="col-md-8 messages-content">
                    <h3> Toutes les notifications </h3>
                    <table class="table table-hover messages-stream">
                        <tbody>
                            {% for notification in notifications %}
                                {% set profilePicturePath = 'bundles/flowberprofile/images/Default/profilePictureDefault.png' %} {# default User Cover #}
                                {% if notification.createdBy.profile.profilePicture is not null %}
                                    {% set profilePicturePath = notification.createdBy.profile.profilePicture.getWebPath() %}
                                {% endif %} 
                                    <tr class="messages-stream-element" data-href="{{ path(notification.pageRoute, {'id': notification.pageId}) }}">
                                        <td class="messages-stream-element-clickable">
                                            <img src="{{asset(profilePicturePath)}}" height="50px" alt="profile picture"/>
                                        </td>
                                        <td class="messages-stream-element-clickable"> 
                                            <span>
                                                <b> {{notification.createdBy.firstname}} {{notification.createdBy.surname}}</b>
                                                {{notification.message}} 
                                                <b> {{notification.pageName}} </b> <br>
                                                {{notification.creationDate|date("\\l\\e d/m/Y  \\Ã  G:i") }}
                                            </span>
                                        </td>

                                    </tr>                                    
                            {% endfor %}

                    </tbody>
                    </table>
                </div>
            </div>                
        </div>
    </div>
    
    <!-- footer -->                  
    {% include 'FlowberFrontOfficeBundle::partials/common/footer.html.twig' %}
    
{% endblock %}

{% block javascripts %}
    {{parent()}}
    <script src="{{ asset('bundles/wybefrontoffice/js/messages.js') }}"></script>

{% endblock %}
